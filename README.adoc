ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
:important-caption: :heavy_exclamation_mark:
:caution-caption: :fire:
:warning-caption: :warning:
:source-highlighter: :rouge:
endif::[]

= Welcome to PyeIQ

PyeIQ provide high level classes to allow the user execute eIQ applications and demos.

.PyeIQ Tested On
|===
|i.MX Board |BSP Release |Building Status

|8 QM
|5.4
|image:https://img.shields.io/travis/asciidoctor/jekyll-asciidoc/master.svg[Build Status]

|8 MPlus
|5.4
|image:https://img.shields.io/travis/asciidoctor/jekyll-asciidoc/master.svg[Build Status]


|8 M Mini
|5.4
|
|===

== Getting Started with PyeIQ

Before installing PyeIQ, ensure all dependencies are installed. Most of them are
common dependencies found in any _GNU/Linux Distribution_; package names will be
different, but it shouldn't be difficult to search using whatever package management
tool that's used by your distribution.

[NOTE]
====
The procedures described in this document target a GNU/Linux Distribution Ubuntu 18.04.
====

=== Software Requirements

. Install the following packages in the GNU/Linux system:
+
[source,console]
----
~# apt install python3 python3-pip
----
+
. Then, use _pip3_ tool to install the https://virtualenv.pypa.io/en/latest/[_Virtualenv_] tool:
+
[source,console]
----
~$ pip3 install virtualenv
----

=== Building the PyeIQ Package

. Clone the PyeIQ repository from CAF.
+
. Use _Virtualenv_ tool to create an isolated Python environment:
+
[source,console]
----
~/pyeiq$ virtualenv env
~/pyeiq$ source env/bin/activate
----
+
.. Generate the wheel (_.whl_) file format:
+
[source,console]
----
(env) ~/pyeiq# python3 setup.py sdist bdist_wheel
----
+
.. Copy the wheel file to the board:
+
[source,console]
----
(env) ~/pyeiq$ scp dist/eiq-1.0.tar.gz root@<boards_IP>:~
----
+
[CAUTION]
====
Change the _**<boards_IP>**_ for the actually IP Address.
====
+
. To deactivate the virtual environment:
+
[source,console]
----
(env) ~/pyeiq$ deactivate
~/pyeiq$
----

=== Deploy the PyeIQ Package

. Install the PyeIQ Wheel file in the board:
+
[source,console]
----
root@imx8qmmek:~# pip3 install eiq-1.0.tar.gz
----
+
. Check the installation by verifying the version:
+
.. Start an interactive mode with Python3:
+
[source,console]
----
root@imx8qmmek:~# python3
----
+
.. Check the PyeIQ latest version:
+
[source,console]
----
>>> import eiq
>>> eiq.__version__
----
+
.. The output is the PyeIQ latest version installed in the system.

== Running the Demos

All the demos are installed in the `/opt/eiq/demos` folder. Follow a list of the
available demos in PyeIQ:

.PyeIQ Available Demos
|===
|Demo Name |Demo Type |i.MX Board |BSP Release |BSP Framework |Inference |Status |Notes

|Label Image
|File Based
|QM, MPlus
|_5.4_
|TensorFlow Lite _2.1.0_
|GPU, NPU
|image:https://img.shields.io/travis/asciidoctor/jekyll-asciidoc/master.svg[Build Status]
|Requires _2.1.0.post1_ for proper inference

|Object Detection
|SSD/Camera Based
|QM, MPlus
|_5.4_
|TensorFlow Lite _2.1.0_
|GPU, NPU
|image:https://img.shields.io/travis/asciidoctor/jekyll-asciidoc/master.svg[Build Status]
|Works with low accuracy. Need better model.

|Object Detection OpenCV
|SSD/Camera Based
|QM, MPlus
|_5.4_
|TensorFlow Lite _2.1.0_
|GPU, NPU
|image:https://img.shields.io/travis/asciidoctor/jekyll-asciidoc/master.svg[Build Status]
|Higher accuracy than above one.

|Object Detection Native GStreamer
|SSD/Camera Based
|QM, MPlus
|_5.4_
|TensorFlow Lite _2.1.0_
|GPU, NPU
|-
|** Fixing undetermined GStreamer hangs**.

|Object Detection Yolov3
|SSD/File Based
|QM, MPlus
|_5.4_
|TensorFlow Lite _2.1.0_
|-
|-
|**Pending issues**.

|Object Detection Yolov3
|SSD/Camera Based
|QM, MPlus
|_5.4_
|TensorFlow Lite _2.1.0_
|-
|-
|**Pending issues**.

|Fire Detection
|File Based
|QM, MPlus
|_5.4_
|TensorFlow Lite _2.1.0_
|GPU, NPU
|image:https://img.shields.io/travis/asciidoctor/jekyll-asciidoc/master.svg[Build Status]
|

|Fire Detection
|Camera Based
|QM, MPlus
|_5.4_
|TensorFlow Lite _2.1.0_
|GPU, NPU
|image:https://img.shields.io/travis/asciidoctor/jekyll-asciidoc/master.svg[Build Status]
|

|Fire Detection
|Camera Based
|QM, MPlus
|_5.4_
|PyArmNN _19.08_
|-
|-
|Requires _19.11_


|Coral Posenet
|Camera Based
|-
|-
|-
|-
|-
|Ongoing
|===

. To run the demos enter the `/opt/eiq/demos` folder:
+
[source,console]
----
root@imx8qmmek:~# cd /opt/eiq/demos/
----
+
. Choose the demo and execute it:
+
[source,console]
----
root@imx8qmmek:~/opt/eiq/demos/# python3 <demo>.py
----

== Training a Model

The currently PyeIQ version supports model training for only the Fire detection
demo. Follow the instructions in the README file located in the `eiq/train/` folder.

include::eiq/train/README.adoc[]

== Copyright and License

Â© 2020 NXP Semiconductors.

Free use of this software is granted under the terms of the BSD 3-Clause License.
