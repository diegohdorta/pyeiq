ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
:important-caption: :heavy_exclamation_mark:
:caution-caption: :fire:
:warning-caption: :warning:
:source-highlighter: :rouge:
endif::[]

=== Fire Detection Training Example

. Use Virtualenv tool to create an isolated Python environment in the PyeIQ repo:
+
[source,console]
----
~/pyeiq/eiq/train$ virtualenv env
~/pyeiq/eiq/train$ source env/bin/activate
----
+
.. Install the Python requirements to train the model:
+
[source,console]
----
(env) ~/pyeiq/eiq/train$ pip3 install -r requirements-fire-detection.txt
----
+
.. Train the model passing the number of epochs [0 - 50]:
+
[source,console]
----
(env) ~/pyeiq/eiq/train$ python3 train.py --epochs=50
----
+
[NOTE]
====
This generate (_.pb_) and (_.h5_) models in `output/fire_detection.model/` folder.
====
+
.. To convert the Keras (_.h5_) model to the TensorFlow Lite model, run:
+
[source,console]
----
(env) ~/pyeiq/eiq/train$ python3 convert_h5_to_tflite.py
----
+
[NOTE]
====
This generates a (.tflite) model in `output/fire_detection.model/`.
====
+
. Deploy this model to the board and then:
+
[source,console]
----
root@imx8qmmek:~/opt/eiq/demos/# python3 fire_detection_camera.py --model=<model.tflite path>
----
